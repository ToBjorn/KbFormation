"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[23],{23:(e,t,a)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.r(t),a.d(t,{default:()=>T}),a(935);var s=a(294),l=a(129),m=a(489),u=a(734).localhost,p=a(323),f=a(555);a(548),a(635);var b=new function(){var e=this;this.get=function(t){return e.req("GET",t)},this.delete=function(t){return e.req("DELETE",t)},this.post=function(t,a){return e.req("POST",t,a)},this.put=function(t,a){return e.req("PUT",t,a)},this.req=function(e,t,a){return new Promise((function(r,n){var c=new p;t="undefined"!=typeof window?t:u+t,c.open(e,t),c.responseType="text",c.setRequestHeader("accept","application/json,*/*;0.8"),c.setRequestHeader("content-type","application/json"),c.onload=function(){c.status>=200&&c.status<300?r(c.responseText&&JSON.parse(c.responseText)):n({http_code:c.status})},c.onerror=function(e){n({http_code:c.status})},c.send(a&&JSON.stringify(a))}))}},v={user:function(e){return{url:"/api/me",prop:"user"}},orders:function(e){var t=d({},e.qs),a=l.stringify(t);return{url:"/api/orders"+(""==a?"":"?"+a),prop:"orders"}},order:function(e){return{url:"/api/order/"+e.order_id,prop:"order"}}},h={orders:{path:function(e){return"/"},match:function(e,t){return"/"==e&&{handlerPath:[E,N,w]}}},order:{path:function(e){return"/order/"+e},match:function(e,t){var a=new RegExp("/order/([^/]*)$").exec(e);return a&&{handlerPath:[E,N,g],order_id:a[1]}}}},E=f({displayName:"Layout",getInitialState:function(){return{modal:null,loader:null,page:1}},loader:function(e){var t=this;return this.setState({loader:"loading"}),e.then((function(){t.setState({loader:null,modal:null})})),e},modal:function(e){this.setState({modal:d(d({},e),{},{callback:function(t){e.callback&&e.callback(t)}})})},render:function(){if(this.state.modal){var e={delete:function(e){return s.createElement(_,e)}}[this.state.modal&&this.state.modal.type];e=e&&e(this.state.modal)}if(this.state.loader)var t=s.createElement(x,a);var a=d(d({},this.props),{},{modal:this.modal,loader:this.loader,page:this.props.qs.page||this.state.page});return s.createElement("div",{className:"layout"},s.createElement("div",{className:O("modal-wrapper",{hidden:!e})},e),s.createElement("div",{className:O("loader-wrapper",{hidden:!t})},t),s.createElement("div",{className:"layout-container"},s.createElement(this.props.Child,a)))}}),N=f({displayName:"Header",render:function(){return s.createElement("div",{className:"header-container"},s.createElement("h3",{className:"heading-2"},"Orders"),s.createElement("div",{className:"w-form"},s.createElement("form",{id:"wf-form-Orders",name:"wf-form-Orders","data-name":"Orders",method:"get",className:"filters-wrapper"},s.createElement("div",{className:"text-block-11"},s.createElement("strong",null,"Search "),s.createElement("span",{className:"text-span-2"},s.createElement("strong",null),"")),s.createElement("input",{type:"text",className:"text-field w-input",autoFocus:"true",maxLength:256,name:"query","filter-by":"*","data-name":"Name",placeholder:"Order",id:"query"}),s.createElement("input",{type:"submit",defaultValue:"Search","data-wait":"Please wait...",className:"searchbutton w-button"})),s.createElement("div",{className:"w-form-done"},s.createElement("div",null,"Thank you! Your submission has been received!")),s.createElement("div",{className:"w-form-fail"},s.createElement("div",null,"Oops! Something went wrong while submitting the form."))),s.createElement("div",{className:"orders-container"},s.createElement(this.props.Child,this.props)))}}),w=f({displayName:"Orders",statics:{remoteProps:[v.orders]},render:function(){var e,t=this,a=parseInt(this.props.orders.value[0])%30,r=parseInt(this.props.orders.value[0])/30;return a>0&&r++,r=parseInt(r),s.createElement("div",{className:"orders-container"},s.createElement("div",{className:"w-container container"},s.createElement("div",{className:"w-layout-grid grid-5"},s.createElement("div",{id:"w-node-dacb47a2-7690-0e27-c6d9-12335e05f88b-4a8595d9",className:"div-block gridhead"},s.createElement("div",{id:"w-node-abacfb0f-b7d8-f782-7493-01c1ceb6b132-4a8595d9",className:"text-block-2"},"Command number")),s.createElement("div",{id:"w-node-dacb47a2-7690-0e27-c6d9-12335e05f88e-4a8595d9",className:"div-block gridhead"},s.createElement("div",{id:"w-node-_88bbeab3-3dac-49d0-bdb0-75ed12d753ed-4a8595d9",className:"text-block-5"},"Customer")),s.createElement("div",{id:"w-node-dacb47a2-7690-0e27-c6d9-12335e05f891-4a8595d9",className:"div-block gridhead"},s.createElement("div",{id:"w-node-_9e96f93d-dc05-7c9c-5782-e23c138f6c28-4a8595d9",className:"text-block-4"},"Address")),s.createElement("div",{id:"w-node-dacb47a2-7690-0e27-c6d9-12335e05f894-4a8595d9",className:"div-block gridhead"},s.createElement("div",{id:"w-node-_65a801b0-b4d8-1fd0-4d4c-00bd38742bb5-4a8595d9",className:"text-block-3"},"Quantity")),s.createElement("div",{id:"w-node-bc88cf6b-ec1f-598f-4a1c-9c61fe009bc8-4a8595d9",className:"div-block gridhead"},s.createElement("div",{id:"w-node-_13a46e70-d170-ecab-e7ea-71d269537505-4a8595d9",className:"text-block-6"},"Details")),s.createElement("div",{id:"w-node-_42183219-1498-d958-e55c-f0d5448c6284-4a8595d9",className:"div-block gridhead"},s.createElement("div",{id:"w-node-a95ebb00-e929-7648-e1ed-a60724f5a61c-4a8595d9",className:"text-block-7"},"Pay")),s.createElement("div",{id:"w-node-_43183219-1498-d958-e55c-f0d5448c6284-4a8595d9",className:"div-block gridhead"},s.createElement("div",{id:"w-node-a96ebb00-e929-7648-e1ed-a60724f5a61c-4a8595d9",className:"text-block-7"},"Delete"))),s.createElement("div",{className:"collectionhome w-dyn-list"},s.createElement("div",{role:"list",className:"collection-list w-dyn-items"},s.createElement("div",{role:"listitem",className:"collection-item w-dyn-item"},null===(e=this.props.orders.value[1])||void 0===e?void 0:e.map((function(e,a){return s.createElement("div",{className:"w-layout-grid gridhome table-line"},s.createElement("div",{id:"w-node-_2bc306fb-9bc4-ea58-9444-feb33cd8e01e-4a8595d9",className:"gridblock"},s.createElement("div",{id:"w-node-_2b269869-fe19-6c25-1e0a-4ae34e986285-4a8595d9",className:"blockcommand"},e[1].remoteid)),s.createElement("div",{id:"w-node-_105dbcc4-3669-ebf4-288d-fb6351d52895-4a8595d9",className:"gridblock"},s.createElement("div",{id:"w-node-_44f979cf-14d2-5a7d-ba5d-ef8537358c11-4a8595d9",className:"blockcustomer"},e[1].custom.customer.full_name)),s.createElement("div",{id:"w-node-_6f3f1f32-b6c6-b00d-262b-ecd28d8cab01-4a8595d9",className:"gridblock"},s.createElement("div",{id:"w-node-c13862b5-9f15-1ba8-72ae-03a376e394b9-4a8595d9",className:"blockaddress"},e[1].custom.shipping_address.street+" "+e[1].custom.shipping_address.postcode+" "+e[1].custom.shipping_address.city)),s.createElement("div",{id:"w-node-_8c767334-7626-4f8a-7284-b2c91a5c3681-4a8595d9",className:"gridblock"},s.createElement("div",{id:"w-node-_97d3b1b2-7bea-1537-f34d-8c385fa90915-4a8595d9",className:"blockquantity"},e[1].custom.items.length)),s.createElement("div",{id:"w-node-_6f02b644-a6cd-bcb5-2c69-06db89d8304c-4a8595d9",className:"gridblock"},s.createElement("div",{id:"w-node-b326ec6f-30ea-835d-e9d1-88824066c738-4a8595d9",className:"buttondetails w-button",onClick:function(t){return S.GoTo("order",e[0])}},s.createElement("span",{className:"text-span-3"},""))),s.createElement("div",{id:"w-node-_57b9c494-69e7-c440-2088-5940e17092fe-4a8595d9",className:"gridblock"},s.createElement("a",{id:"w-node-_60edcd3b-ff3e-6091-8913-4b2a7243de00-4a8595d9",href:"#",className:"buttonpay w-button"},s.createElement("span",{class:"text-span",onClick:function(){t.props.loader(b.post("/api/order/"+e[0]+"/pay")).then((function(e){console.log(e)}))}},""),s.createElement("br",null),"Status: ",e[1].status.state,s.createElement("br",null),"Payment method: ",e[1].custom.shipping_method_ui)),s.createElement("div",{id:"w-node-_6f02b644-a6cd-bcb5-2c69-06db89d8304c-4a8595d9",className:"gridblock"},s.createElement("div",{id:"w-node-b326ec6f-30ea-835d-e9d1-88824066c738-4a8595d9",className:"buttondelete w-button",onClick:function(){return t.props.modal({type:"delete",callback:function(a){a&&t.props.loader(b.delete("/api/order/"+e[0])).then((function(){t.props.orders.value[1]=function(e,t){return e.filter((function(e){return e[0]!=t}))}(t.props.orders.value[1],e[0]),t.props.orders.value[0]=parseInt(t.props.orders.value[0])-1,S.GoTo("orders")}))}})}},s.createElement("span",{className:"text-span-3"},""))))})))))),s.createElement("div",{className:"page-container"},s.createElement("div",{className:"pageButtons"},s.createElement("div",{className:"pagePrev w-button",onClick:function(){parseInt(t.props.page)>1&&(2==parseInt(t.props.page)?S.GoTo("orders"):S.GoTo("orders","",{page:parseInt(t.props.page)-1}))}},s.createElement("span",null,"Prev")),s.createElement("div",{className:"pageCount"},parseInt(this.props.page),"/",r),s.createElement("div",{className:"pageNext w-button",onClick:function(){parseInt(t.props.page)<r&&S.GoTo("orders","",{page:parseInt(t.props.page)+1})}},s.createElement("span",null,"Next")))))}}),g=f({displayName:"Order",statics:{remoteProps:[v.order]},render:function(){return s.createElement("div",{className:"w-container container"},s.createElement("h3",{className:"heading-2"},"Order"),s.createElement("div",{className:"section wf-section"},s.createElement("div",{id:"w-node-_7f8e2895-bfd0-28d5-eb7f-4ec99b8b115a-fd427303",className:"div-block-2"},s.createElement("div",{className:"text-block-12"},"Client:"),s.createElement("div",{className:"text-block-12"},"Address:"),s.createElement("div",{className:"text-block-12"},"Command number:")),s.createElement("div",{className:"w-dyn-list"},s.createElement("div",{role:"list",className:"w-dyn-items"},s.createElement("div",{role:"listitem",className:"w-dyn-item"},s.createElement("div",{className:"customer"},this.props.order.value.custom.customer.full_name),s.createElement("div",{className:"address"},this.props.order.value.custom.shipping_address.street+" "+this.props.order.value.custom.shipping_address.postcode+" "+this.props.order.value.custom.shipping_address.city),s.createElement("div",{className:"commandnumber"},this.props.order.value.remoteid))))),s.createElement("div",{className:"orders-container"},s.createElement("div",{className:"w-layout-grid grid-7"},s.createElement("div",{id:"w-node-f5c18538-798a-d455-5803-83be494811ed-fd427303",className:"div-block gridhead"},s.createElement("div",{id:"w-node-f5c18538-798a-d455-5803-83be494811ee-fd427303",className:"text-block-2"},"Product name")),s.createElement("div",{id:"w-node-_4b3af762-c94e-c6bd-789c-82a67d88a80d-fd427303",className:"div-block gridhead"},s.createElement("div",{id:"w-node-_4b3af762-c94e-c6bd-789c-82a67d88a80e-fd427303",className:"text-block-2"},"Quantity")),s.createElement("div",{id:"w-node-_0fc1a531-9559-1a67-39ca-027022685917-fd427303",className:"div-block gridhead"},s.createElement("div",{id:"w-node-_0fc1a531-9559-1a67-39ca-027022685918-fd427303",className:"text-block-2"},"Unit price")),s.createElement("div",{id:"w-node-_4f8ae812-61f0-97af-4713-1bb948ec7847-fd427303",className:"div-block gridhead"},s.createElement("div",{id:"w-node-_4f8ae812-61f0-97af-4713-1bb948ec7848-fd427303",className:"text-block-2"},"Total price"))),s.createElement("div",{className:"w-dyn-list"},s.createElement("div",{role:"list",className:"w-dyn-items order-details-list"},this.props.order.value.custom.items.map((function(e){return s.createElement("div",{className:"w-layout-grid grid-6 table-line"},s.createElement("div",{id:"w-node-_94a8becf-8b7c-6e97-a460-30138ef87c56-fd427303",className:"div-block-4"},s.createElement("div",{id:"w-node-_7a424cb3-fde1-2c8d-618d-f6f10d0d2947-fd427303",className:"product-name"},e.product_title)),s.createElement("div",{id:"w-node-_4ffd56c6-50df-813c-941d-e756351dc9b9-fd427303",className:"div-block-4"},s.createElement("div",{id:"w-node-_3c02b11b-c002-f3df-d038-4ddba381beb1-fd427303",className:"quantity"},e.quantity_to_fetch)),s.createElement("div",{id:"w-node-f3dd9ad9-059e-d99b-ee30-78bf4f844137-fd427303",className:"div-block-4"},s.createElement("div",{id:"w-node-_1ab7a67b-d3ca-a4d2-92be-3d78ac947fee-fd427303",className:"unitprice"},e.unit_price)),s.createElement("div",{id:"w-node-_9037d51f-0d70-5866-343c-03fb33b8020b-fd427303",className:"div-block-4"},s.createElement("div",{id:"w-node-dee877d1-8562-b0ed-4a70-49956c8d285c-fd427303",className:"totalprice"},e.quantity_to_fetch*e.unit_price)))}))),s.createElement("div",{role:"navigation","aria-label":"List",className:"w-pagination-wrapper"},s.createElement("a",{href:"?6d333e31_page=2","aria-label":"Next Page",className:"w-pagination-next"},s.createElement("div",{className:"w-inline-block"},"Next"),s.createElement("svg",{className:"w-pagination-next-icon",height:"12px",width:"12px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",transform:"translate(0, 1)"},s.createElement("path",{fill:"none",stroke:"currentColor","fill-rule":"evenodd",d:"M4 2l4 4-4 4"}))),s.createElement("link",{rel:"prerender",href:"?6d333e31_page=2"}))),s.createElement("div",{href:"#",className:"w-button goback",onClick:function(){return S.GoTo("orders")}},"Go back")))}}),y=f({displayName:"Child",render:function(){var e,t=function(e){if(Array.isArray(e))return e}(e=this.props.handlerPath)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=t[0],r=t.slice(1);return s.createElement(a,n({},this.props,{handlerPath:r}))}}),k=f({displayName:"ErrorPage",render:function(){return s.createElement("div",{style:{padding:"1rem"}},s.createElement("p",null,this.props.code),s.createElement("p",null,this.props.message))}}),_=f({displayName:"DeleteModal",render:function(){var e=this;return s.createElement("div",{className:"modal-wrapper"},s.createElement("div",{className:"modal-content"},s.createElement("h2",{className:"heading"},"Are you sure you want to delete this item ?"),s.createElement("div",{className:"buttonblock"},s.createElement("a",{href:"#",className:"declinebutton w-button",onClick:function(){return e.props.callback(!1)}},"Cancel"),s.createElement("a",{href:"#",className:"acceptbutton w-button",onClick:function(){return e.props.callback(!0)}},"Confirm"))))}}),x=f({displayName:"LoadingModal",render:function(){return s.createElement("div",{className:"modal-wrapper"},s.createElement("div",{className:"loader-content"},s.createElement("img",{src:"https://uploads-ssl.webflow.com/6230b1a801c00b18acbca418/6230b88e40c1a090b3662ce7_Double%20Ring-1s-200px.gif",loading:"lazy",alt:"",className:"image"})))}}),O=function(){var e=arguments,t={};for(var a in e){var n=e[a];if(n)if("string"==typeof n||"number"==typeof n)n.split(" ").filter((function(e){return""!=e})).map((function(e){t[e]=!0}));else if("object"===r(n))for(var c in n)t[c]=n[c]}return Object.keys(t).map((function(e){return t[e]&&e||""})).join(" ")},P={};function C(e,t,a){var r,n;for(var c in P=d(d({},P),{},{path:e,qs:t,Link:S,Child:y}),h)if(n=h[c].match(e,t)){r=c;break}return r?j(P=d(d(d({},P),n),{},{route:r})).then((function(e){P=e})):new Promise((function(e,t){return t({http_code:404})}))}var S=f({displayName:"Link",statics:{renderFunc:null,GoTo:function(e,t,a){var r=h[e].path(t),n=l.stringify(a),c=r+(""==n?"":"?"+n);history.pushState({},"",c),S.onPathChange()},onPathChange:function(){var e=location.pathname,t=l.parse(location.search.slice(1));m.parse(document.cookie),C(e,t).then((function(){S.renderFunc(s.createElement(y,P))}),(function(e){var t=e.http_code;S.renderFunc(s.createElement(k,{message:"Not Found",code:t}),t)}))},LinkTo:function(e,t,a){var r=l.stringify(a);return h[e].path(t)+(""==r?"":"?"+r)}},onClick:function(e){e.preventDefault(),S.GoTo(this.props.to,this.props.params,this.props.query)},render:function(){return s.createElement("a",{href:S.LinkTo(this.props.to,this.props.params,this.props.query),onClick:this.onClick},this.props.children)}});function j(e){return new Promise((function(t,a){var r=Array.prototype.concat.apply([],e.handlerPath.map((function(e){return e.remoteProps})).filter((function(e){return e})));if(0==(r=r.map((function(t){return t(e)})).filter((function(e){return e})).filter((function(t){return!e[t.prop]||e[t.prop].url!=t.url}))).length)return t(e);var n=function(e,t){return e[t.prop]={url:t.url,value:t.value},e},c=r.map((function(e){return b.get(e.url).then((function(t){return e.value=t,e}))}));return Promise.all(c).then((function(t){return t.reduce(n,e)}),a).then((function(e){return j(e).then(t,a)}),a)}))}const T={reaxt_server_render:function(e,t){C(e.path,e.query,e.cookies).then((function(){t(s.createElement(y,P))}),(function(e){t(s.createElement(k,{message:"Not Found :"+e.url,code:e.http_code}),e.http_code)}))},reaxt_client_render:function(e,t){P=e,S.renderFunc=t,window.addEventListener("popstate",(function(){S.onPathChange()})),S.onPathChange()}}}}]);
//# sourceMappingURL=client.c2b1aec5a98e717cdc1b.js.map